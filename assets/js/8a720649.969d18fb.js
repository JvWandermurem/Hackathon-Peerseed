"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1470],{72:(e,a,s)=>{s.d(a,{A:()=>n});const n=s.p+"assets/images/tabela_contas_banc_diagrama-96fd64de05ef69da4c0a1dd605861163.png"},1525:(e,a,s)=>{s.d(a,{A:()=>n});const n=s.p+"assets/images/tabela_investimentos_diagrama-de6ac946a0416a3f38db67bedffda7d2.png"},2368:(e,a,s)=>{s.r(a),s.d(a,{assets:()=>d,contentTitle:()=>t,default:()=>m,frontMatter:()=>o,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"solucao_problema/modelagem_dados","title":"Modelagem de dados","description":"Introdu\xe7\xe3o","source":"@site/docs/solucao_problema/modelagem_dados.md","sourceDirName":"solucao_problema","slug":"/solucao_problema/modelagem_dados","permalink":"/Hackathon-Peerseed/solucao_problema/modelagem_dados","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/solucao_problema/modelagem_dados.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"Modelagem de dados"},"sidebar":"tutorialSidebar","previous":{"title":"Fluxo de Dados","permalink":"/Hackathon-Peerseed/solucao_problema/fluxo_dados"},"next":{"title":"Identidade Visual","permalink":"/Hackathon-Peerseed/solucao_problema/identidade_visual"}}');var i=s(4848),r=s(8453);const o={sidebar_position:5,title:"Modelagem de dados"},t=void 0,d={},l=[{value:"Introdu\xe7\xe3o",id:"introdu\xe7\xe3o",level:2},{value:"Detalhamento das Entidades e Relacionamentos",id:"detalhamento-das-entidades-e-relacionamentos",level:2},{value:"Tabela: usuarios",id:"tabela-usuarios",level:3},{value:"Tabela: carteiras",id:"tabela-carteiras",level:3},{value:"Tabela: cprs (C\xe9dulas de Produtor Rural)",id:"tabela-cprs-c\xe9dulas-de-produtor-rural",level:3},{value:"Tabela: parcelas",id:"tabela-parcelas",level:3},{value:"Tabela: investimentos",id:"tabela-investimentos",level:3},{value:"Tabela: transacoes",id:"tabela-transacoes",level:3},{value:"Tabela: ofertas_secundario",id:"tabela-ofertas_secundario",level:3},{value:"Tabela: contas_bancarias",id:"tabela-contas_bancarias",level:3}];function c(e){const a={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.h2,{id:"introdu\xe7\xe3o",children:"Introdu\xe7\xe3o"}),"\n",(0,i.jsx)(a.p,{children:"\u2003 A base de dados \xe9 o pilar de qualquer aplica\xe7\xe3o robusta, especialmente em um projeto como a Peerseed, onde a integridade, seguran\xe7a e consist\xeancia dos dados s\xe3o primordiais. Para o n\xfacleo transacional do nosso sistema, optamos por um banco de dados relacional."}),"\n",(0,i.jsxs)(a.p,{children:["\u2003Essa escolha se deve \xe0 sua conformidade com as propriedades ",(0,i.jsx)(a.strong,{children:"ACID (Atomicidade, Consist\xeancia, Isolamento e Durabilidade)"}),", que garantem que opera\xe7\xf5es financeiras complexas (como um investimento ou a distribui\xe7\xe3o de um pagamento) sejam conclu\xeddas com sucesso por inteiro ou revertidas, nunca deixando os dados em um estado inconsistente."]}),"\n",(0,i.jsx)(a.p,{children:"O diagrama abaixo ilustra as principais entidades do nosso sistema e como elas se interligam para modelar o neg\xf3cio do Peerseed."}),"\n",(0,i.jsx)("p",{style:{textAlign:"center"},children:" Diagrama Entidade-Relacionamento (DER) Simples"}),"\n",(0,i.jsx)("div",{style:{margin:15},children:(0,i.jsxs)("div",{style:{textAlign:"center"},children:[(0,i.jsx)("img",{src:s(4459).A,style:{width:800},alt:"Fluxo de Solicita\xe7\xe3o e Aprova\xe7\xe3o de Cr\xe9dito"}),(0,i.jsx)("br",{})]})}),"\n",(0,i.jsx)("p",{style:{textAlign:"center"},children:" Fonte: Produzido pelos autores (2025)."}),"\n",(0,i.jsx)(a.h2,{id:"detalhamento-das-entidades-e-relacionamentos",children:"Detalhamento das Entidades e Relacionamentos"}),"\n",(0,i.jsx)(a.p,{children:"\u2003 A seguir, justificamos a exist\xeancia e a estrutura de cada tabela, com foco em suas chaves e nos relacionamentos que elas estabelecem."}),"\n",(0,i.jsx)("p",{style:{textAlign:"center"},children:" Diagrama Entidade-Relacionamento (DER) Simples"}),"\n",(0,i.jsx)("div",{style:{margin:15},children:(0,i.jsxs)("div",{style:{textAlign:"center"},children:[(0,i.jsx)("img",{src:s(2703).A,style:{width:800},alt:"Fluxo de Solicita\xe7\xe3o e Aprova\xe7\xe3o de Cr\xe9dito"}),(0,i.jsx)("br",{})]})}),"\n",(0,i.jsx)("p",{style:{textAlign:"center"},children:" Fonte: Produzido pelos autores (2025)."}),"\n",(0,i.jsx)(a.h3,{id:"tabela-usuarios",children:"Tabela: usuarios"}),"\n",(0,i.jsxs)(a.p,{children:["Esta \xe9 a tabela central de identidade. Armazena as informa\xe7\xf5es de login e perfil de todos os participantes da plataforma, sejam eles AGRICULTORES ou INVESTIDORES. A coluna ",(0,i.jsx)(a.code,{children:"perfil"})," \xe9 o que distingue seus pap\xe9is e as funcionalidades que podem acessar."]}),"\n",(0,i.jsx)("p",{style:{textAlign:"center"},children:" Diagrama Entidade-Relacionamento (DER) Simples"}),"\n",(0,i.jsx)("div",{style:{margin:15},children:(0,i.jsxs)("div",{style:{textAlign:"center"},children:[(0,i.jsx)("img",{src:s(3090).A,style:{width:800},alt:"Fluxo de Solicita\xe7\xe3o e Aprova\xe7\xe3o de Cr\xe9dito"}),(0,i.jsx)("br",{})]})}),"\n",(0,i.jsx)("p",{style:{textAlign:"center"},children:" Fonte: Produzido pelos autores (2025)."}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.strong,{children:"Chaves e Rela\xe7\xf5es:"})}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsxs)(a.p,{children:[(0,i.jsx)(a.strong,{children:"Chave Prim\xe1ria (PK):"})," id (UUID). \xc9 o identificador \xfanico e interno de cada usu\xe1rio, usado para relacion\xe1-lo a todas as outras tabelas."]}),"\n"]}),"\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsxs)(a.p,{children:[(0,i.jsx)(a.strong,{children:"Rela\xe7\xf5es:"})," Esta tabela \xe9 o ponto de partida para a maioria das rela\xe7\xf5es. Um usu\xe1rio pode solicitar m\xfaltiplas cprs, realizar m\xfaltiplos investimentos e cadastrar m\xfaltiplas contas_bancarias."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"tabela-carteiras",children:"Tabela: carteiras"}),"\n",(0,i.jsx)(a.p,{children:"Representa a carteira digital de cada usu\xe1rio na plataforma, onde seus saldos em stablecoin (USDC) s\xe3o mantidos e gerenciados. A separa\xe7\xe3o entre saldo_usdc e saldo_bloqueado_usdc \xe9 crucial para gerenciar fundos que est\xe3o comprometidos em uma transa\xe7\xe3o (como um investimento em andamento) mas ainda n\xe3o foram debitados."}),"\n",(0,i.jsx)("p",{style:{textAlign:"center"},children:" Diagrama Entidade-Relacionamento (DER) Simples"}),"\n",(0,i.jsx)("div",{style:{margin:15},children:(0,i.jsxs)("div",{style:{textAlign:"center"},children:[(0,i.jsx)("img",{src:s(2617).A,style:{width:800},alt:"Fluxo de Solicita\xe7\xe3o e Aprova\xe7\xe3o de Cr\xe9dito"}),(0,i.jsx)("br",{})]})}),"\n",(0,i.jsx)("p",{style:{textAlign:"center"},children:" Fonte: Produzido pelos autores (2025)."}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.strong,{children:"Chaves e Rela\xe7\xf5es:"})}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsxs)(a.p,{children:[(0,i.jsx)(a.strong,{children:"Chave Prim\xe1ria (PK):"})," id (UUID)."]}),"\n"]}),"\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsxs)(a.p,{children:[(0,i.jsx)(a.strong,{children:"Chave Estrangeira (FK):"})," usuario_id referencia usuarios(id). A restri\xe7\xe3o UNIQUE nesta chave garante uma rela\xe7\xe3o de um-para-um, assegurando que cada usu\xe1rio tenha exatamente uma carteira."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"tabela-cprs-c\xe9dulas-de-produtor-rural",children:"Tabela: cprs (C\xe9dulas de Produtor Rural)"}),"\n",(0,i.jsx)(a.p,{children:"Modela a oportunidade de investimento. Cada linha representa uma solicita\xe7\xe3o de cr\xe9dito feita por um agricultor que foi aprovada e est\xe1 pronta para capta\xe7\xe3o no marketplace. Cont\xe9m todos os termos do empr\xe9stimo, como valor, taxa de juros e prazo."}),"\n",(0,i.jsx)("p",{style:{textAlign:"center"},children:" Diagrama Entidade-Relacionamento (DER) Simples"}),"\n",(0,i.jsx)("div",{style:{margin:15},children:(0,i.jsxs)("div",{style:{textAlign:"center"},children:[(0,i.jsx)("img",{src:s(9401).A,style:{width:800},alt:"Fluxo de Solicita\xe7\xe3o e Aprova\xe7\xe3o de Cr\xe9dito"}),(0,i.jsx)("br",{})]})}),"\n",(0,i.jsx)("p",{style:{textAlign:"center"},children:" Fonte: Produzido pelos autores (2025)."}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.strong,{children:"Chaves e Rela\xe7\xf5es:"})}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsxs)(a.p,{children:[(0,i.jsx)(a.strong,{children:"Chave Prim\xe1ria (PK):"})," id (UUID)."]}),"\n"]}),"\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsxs)(a.p,{children:[(0,i.jsx)(a.strong,{children:"Chave Estrangeira (FK):"})," agricultor_id referencia usuarios(id), criando uma rela\xe7\xe3o de um-para-muitos (um agricultor pode ter v\xe1rias CPRs ao longo do tempo)."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"tabela-parcelas",children:"Tabela: parcelas"}),"\n",(0,i.jsx)(a.p,{children:"Detalha o cronograma de pagamentos de uma CPR. Ao criar uma CPR, esta tabela \xe9 populada com todas as parcelas futuras, seus valores e datas de vencimento. Isso \xe9 fundamental para a gest\xe3o de pagamentos e inadimpl\xeancia."}),"\n",(0,i.jsx)("p",{style:{textAlign:"center"},children:" Diagrama Entidade-Relacionamento (DER) Simples"}),"\n",(0,i.jsx)("div",{style:{margin:15},children:(0,i.jsxs)("div",{style:{textAlign:"center"},children:[(0,i.jsx)("img",{src:s(2872).A,style:{width:800},alt:"Fluxo de Solicita\xe7\xe3o e Aprova\xe7\xe3o de Cr\xe9dito"}),(0,i.jsx)("br",{})]})}),"\n",(0,i.jsx)("p",{style:{textAlign:"center"},children:" Fonte: Produzido pelos autores (2025)."}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.strong,{children:"Chaves e Rela\xe7\xf5es:"})}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsxs)(a.p,{children:[(0,i.jsx)(a.strong,{children:"Chave Prim\xe1ria (PK):"})," id (UUID)."]}),"\n"]}),"\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsxs)(a.p,{children:[(0,i.jsx)(a.strong,{children:"Chave Estrangeira (FK):"})," cpr_id referencia cprs(id), criando uma rela\xe7\xe3o de um-para-muitos (uma CPR \xe9 composta por m\xfaltiplas parcelas)."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"tabela-investimentos",children:"Tabela: investimentos"}),"\n",(0,i.jsx)(a.p,{children:"Esta \xe9 uma tabela de liga\xe7\xe3o crucial que materializa a rela\xe7\xe3o de muitos-para-muitos entre usuarios (investidores) e cprs. Cada linha significa que um investidor espec\xedfico aportou um determinado valor em uma CPR espec\xedfica."}),"\n",(0,i.jsx)("p",{style:{textAlign:"center"},children:" Diagrama Entidade-Relacionamento (DER) Simples"}),"\n",(0,i.jsx)("div",{style:{margin:15},children:(0,i.jsxs)("div",{style:{textAlign:"center"},children:[(0,i.jsx)("img",{src:s(1525).A,style:{width:800},alt:"Fluxo de Solicita\xe7\xe3o e Aprova\xe7\xe3o de Cr\xe9dito"}),(0,i.jsx)("br",{})]})}),"\n",(0,i.jsx)("p",{style:{textAlign:"center"},children:" Fonte: Produzido pelos autores (2025)."}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.strong,{children:"Chaves e Rela\xe7\xf5es:"})}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsxs)(a.p,{children:[(0,i.jsx)(a.strong,{children:"Chave Prim\xe1ria (PK):"})," id (UUID)."]}),"\n"]}),"\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.strong,{children:"Chaves Estrangeiras (FK):"})}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsxs)(a.p,{children:[(0,i.jsx)(a.code,{children:"investidor_id"})," referencia ",(0,i.jsx)(a.code,{children:"usuarios(id)"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsxs)(a.p,{children:[(0,i.jsx)(a.code,{children:"cpr_id"})," referencia ",(0,i.jsx)(a.code,{children:"cprs(id)"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"tabela-transacoes",children:"Tabela: transacoes"}),"\n",(0,i.jsx)(a.p,{children:"Funciona como o livro-raz\xe3o (ledger) de todas as movimenta\xe7\xf5es financeiras na plataforma. Seja um dep\xf3sito, um saque, um investimento ou o recebimento de juros, cada opera\xe7\xe3o gera um registro imut\xe1vel nesta tabela, garantindo total rastreabilidade e auditoria."}),"\n",(0,i.jsx)("p",{style:{textAlign:"center"},children:" Diagrama Entidade-Relacionamento (DER) Simples"}),"\n",(0,i.jsx)("div",{style:{margin:15},children:(0,i.jsxs)("div",{style:{textAlign:"center"},children:[(0,i.jsx)("img",{src:s(5186).A,style:{width:800},alt:"Fluxo de Solicita\xe7\xe3o e Aprova\xe7\xe3o de Cr\xe9dito"}),(0,i.jsx)("br",{})]})}),"\n",(0,i.jsx)("p",{style:{textAlign:"center"},children:" Fonte: Produzido pelos autores (2025)."}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.strong,{children:"Chaves e Rela\xe7\xf5es:"})}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsxs)(a.p,{children:[(0,i.jsx)(a.strong,{children:"Chave Prim\xe1ria (PK):"})," id (UUID)."]}),"\n"]}),"\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsxs)(a.p,{children:[(0,i.jsx)(a.strong,{children:"Chave Estrangeira (FK):"})," ",(0,i.jsx)(a.code,{children:"carteira_id"})," referencia ",(0,i.jsx)(a.code,{children:"carteiras(id)"}),", ligando cada transa\xe7\xe3o a uma carteira espec\xedfica."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"tabela-ofertas_secundario",children:"Tabela: ofertas_secundario"}),"\n",(0,i.jsx)(a.p,{children:"Modela as ofertas de venda no mercado secund\xe1rio. Quando um investidor decide vender sua cota (seu investimento), uma linha \xe9 criada aqui com o pre\xe7o de venda. Isso permite que a plataforma funcione como um ambiente de negocia\xe7\xe3o P2P."}),"\n",(0,i.jsx)("p",{style:{textAlign:"center"},children:" Diagrama Entidade-Relacionamento (DER) Simples"}),"\n",(0,i.jsx)("div",{style:{margin:15},children:(0,i.jsxs)("div",{style:{textAlign:"center"},children:[(0,i.jsx)("img",{src:s(7268).A,style:{width:800},alt:"Fluxo de Solicita\xe7\xe3o e Aprova\xe7\xe3o de Cr\xe9dito"}),(0,i.jsx)("br",{})]})}),"\n",(0,i.jsx)("p",{style:{textAlign:"center"},children:" Fonte: Produzido pelos autores (2025)."}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.strong,{children:"Chaves e Rela\xe7\xf5es:"})}),"\n",(0,i.jsxs)(a.p,{children:[(0,i.jsx)(a.strong,{children:"Chave Prim\xe1ria (PK):"})," id (UUID)."]}),"\n",(0,i.jsxs)(a.p,{children:[(0,i.jsx)(a.strong,{children:"Chave Estrangeira (FK):"})," ",(0,i.jsx)(a.code,{children:"investimento_id"})," referencia ",(0,i.jsx)(a.code,{children:"investimentos(id)"}),". A restri\xe7\xe3o ",(0,i.jsx)(a.code,{children:"UNIQUE"})," nesta chave garante que um mesmo investimento n\xe3o possa ter mais de uma oferta de venda ativa ao mesmo tempo."]}),"\n",(0,i.jsx)(a.h3,{id:"tabela-contas_bancarias",children:"Tabela: contas_bancarias"}),"\n",(0,i.jsx)(a.p,{children:"Armazena de forma segura os dados banc\xe1rios dos usu\xe1rios para a opera\xe7\xe3o de saque (off-ramp) via Pix. Manter isso em uma tabela separada permite que um usu\xe1rio tenha m\xfaltiplas contas cadastradas e escolha uma principal."}),"\n",(0,i.jsx)("p",{style:{textAlign:"center"},children:" Diagrama Entidade-Relacionamento (DER) Simples"}),"\n",(0,i.jsx)("div",{style:{margin:15},children:(0,i.jsxs)("div",{style:{textAlign:"center"},children:[(0,i.jsx)("img",{src:s(72).A,style:{width:800},alt:"Fluxo de Solicita\xe7\xe3o e Aprova\xe7\xe3o de Cr\xe9dito"}),(0,i.jsx)("br",{})]})}),"\n",(0,i.jsx)("p",{style:{textAlign:"center"},children:" Fonte: Produzido pelos autores (2025)."}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.strong,{children:"Chaves e Rela\xe7\xf5es:"})}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsxs)(a.p,{children:[(0,i.jsx)(a.strong,{children:"Chave Prim\xe1ria (PK):"})," id (UUID)."]}),"\n"]}),"\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsxs)(a.p,{children:[(0,i.jsx)(a.strong,{children:"Chave Estrangeira (FK):"})," usuario_id referencia usuarios(id), criando uma rela\xe7\xe3o de um-para-muitos."]}),"\n"]}),"\n"]})]})}function m(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,i.jsx)(a,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},2617:(e,a,s)=>{s.d(a,{A:()=>n});const n=s.p+"assets/images/tabela_carteiras_diagrama-b815fad9bc05251d0a5c58518872c987.png"},2703:(e,a,s)=>{s.d(a,{A:()=>n});const n=s.p+"assets/images/diagrama_entidade_relacionamento-104be815aa7bbcf64e081b8ce1da50ce.png"},2872:(e,a,s)=>{s.d(a,{A:()=>n});const n=s.p+"assets/images/tabela_parcelas_diagrama-74caab110492f0c25f338c826b6b27e1.png"},3090:(e,a,s)=>{s.d(a,{A:()=>n});const n=s.p+"assets/images/tabela_user_diagrama-b207fe7ef9ba87dd84b2b900d1a733df.png"},4459:(e,a,s)=>{s.d(a,{A:()=>n});const n=s.p+"assets/images/diagrama_entidade_relacionamento_simples-32dc7022c14591c31b912d80b739a256.png"},5186:(e,a,s)=>{s.d(a,{A:()=>n});const n=s.p+"assets/images/tabela_transacoes_diagrama-9ca4dd6c3f96c2435527fe91c84be64e.png"},7268:(e,a,s)=>{s.d(a,{A:()=>n});const n=s.p+"assets/images/tabela_ofertas_secun_diagrama-b22689943530f6009180f21ae91402e4.png"},8453:(e,a,s)=>{s.d(a,{R:()=>o,x:()=>t});var n=s(6540);const i={},r=n.createContext(i);function o(e){const a=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function t(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(r.Provider,{value:a},e.children)}},9401:(e,a,s)=>{s.d(a,{A:()=>n});const n=s.p+"assets/images/tabela_cprs_diagrama-5245e143d19dd25bdc4be378db83f22e.png"}}]);