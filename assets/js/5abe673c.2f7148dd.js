"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9741],{7570:(e,o,a)=>{a.r(o),a.d(o,{assets:()=>t,contentTitle:()=>n,default:()=>m,frontMatter:()=>d,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"implementacao_tecnica/machine_learning","title":"AgroScore","description":"1. Vis\xe3o Geral e Objetivo","source":"@site/docs/implementacao_tecnica/machine_learning.md","sourceDirName":"implementacao_tecnica","slug":"/implementacao_tecnica/machine_learning","permalink":"/Hackathon-Peerseed/implementacao_tecnica/machine_learning","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/implementacao_tecnica/machine_learning.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6,"title":"AgroScore"},"sidebar":"tutorialSidebar","previous":{"title":"DevOps","permalink":"/Hackathon-Peerseed/implementacao_tecnica/devops"},"next":{"title":"Plano de Neg\xf3cio","permalink":"/Hackathon-Peerseed/category/plano-de-neg\xf3cio"}}');var i=a(4848),s=a(8453);const d={sidebar_position:6,title:"AgroScore"},n=void 0,t={},c=[{value:"1. Vis\xe3o Geral e Objetivo",id:"1-vis\xe3o-geral-e-objetivo",level:2},{value:"2.  Foco em Interpretabilidade e Performance",id:"2--foco-em-interpretabilidade-e-performance",level:2},{value:"3. Fontes de Dados (Features)",id:"3-fontes-de-dados-features",level:2},{value:"4. Ciclo de Vida do Modelo (MLOps) no MVP",id:"4-ciclo-de-vida-do-modelo-mlops-no-mvp",level:2},{value:"5. Monitoramento e Retreinamento",id:"5-monitoramento-e-retreinamento",level:2},{value:"6. Evolu\xe7\xe3o Futura (P\xf3s-MVP)",id:"6-evolu\xe7\xe3o-futura-p\xf3s-mvp",level:2}];function l(e){const o={blockquote:"blockquote",code:"code",h2:"h2",hr:"hr",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.h2,{id:"1-vis\xe3o-geral-e-objetivo",children:"1. Vis\xe3o Geral e Objetivo"}),"\n",(0,i.jsxs)(o.p,{children:["\u2003 O AgroScore \xe9 o motor de an\xe1lise de cr\xe9dito automatizada do Peerseed e um dos nossos principais diferenciais competitivos. Seu objetivo \xe9 prover uma avalia\xe7\xe3o de risco de cr\xe9dito r\xe1pida, justa e baseada em dados, atendendo diretamente ao requisito ",(0,i.jsx)(o.code,{children:"RF-AGR-002"}),"."]}),"\n",(0,i.jsx)(o.p,{children:"\u2003 Para o agricultor Jo\xe3o, o AgroScore significa sair da subjetividade e da lentid\xe3o dos bancos tradicionais e receber uma resposta em horas, n\xe3o semanas."}),"\n",(0,i.jsx)(o.p,{children:"\u2003 Para a investidora Marina, o AgroScore traduz a complexidade de um perfil agr\xedcola em uma m\xe9trica de risco clara e padronizada (de A a E), permitindo que ela tome decis\xf5es de investimento informadas e confiantes."}),"\n",(0,i.jsx)(o.hr,{}),"\n",(0,i.jsx)(o.h2,{id:"2--foco-em-interpretabilidade-e-performance",children:"2.  Foco em Interpretabilidade e Performance"}),"\n",(0,i.jsxs)(o.p,{children:["\u2003 A escolha do tipo de modelo para o MVP \xe9 guiada por dois fatores cr\xedticos em sistemas de cr\xe9dito, a ",(0,i.jsx)(o.strong,{children:"capacidade de explicar uma decis\xe3o"})," e a ",(0,i.jsx)(o.strong,{children:"velocidade da predi\xe7\xe3o."})]}),"\n",(0,i.jsx)(o.p,{children:(0,i.jsx)(o.strong,{children:"Tipos de Modelos de Machine Learning"})}),"\n",(0,i.jsxs)(o.table,{children:[(0,i.jsx)(o.thead,{children:(0,i.jsxs)(o.tr,{children:[(0,i.jsx)(o.th,{children:"Tipo de Modelo"}),(0,i.jsx)(o.th,{children:"Vantagens para o Peerseed"}),(0,i.jsx)(o.th,{children:"Desvantagens"})]})}),(0,i.jsxs)(o.tbody,{children:[(0,i.jsxs)(o.tr,{children:[(0,i.jsxs)(o.td,{children:[(0,i.jsx)(o.strong,{children:"Modelos Cl\xe1ssicos"})," (Regress\xe3o Log\xedstica, Gradient Boosting)"]}),(0,i.jsxs)(o.td,{children:["- ",(0,i.jsx)(o.strong,{children:"Alta Interpretabilidade"}),': Permitem analisar a import\xe2ncia de cada vari\xe1vel (ex: "o hist\xf3rico de cr\xe9dito foi o fator mais importante"). Essencial para conformidade e feedback ao usu\xe1rio.- ',(0,i.jsx)(o.strong,{children:"Alta Performance"}),": R\xe1pidos para treinar e fazer predi\xe7\xf5es, ideal para APIs (",(0,i.jsx)(o.strong,{children:"RNF-ED-01"}),")."]}),(0,i.jsx)(o.td,{children:"Podem n\xe3o capturar rela\xe7\xf5es n\xe3o-lineares extremamente complexas nos dados."})]}),(0,i.jsxs)(o.tr,{children:[(0,i.jsxs)(o.td,{children:[(0,i.jsx)(o.strong,{children:"Deep Learning"})," (Redes Neurais)"]}),(0,i.jsxs)(o.td,{children:["- ",(0,i.jsx)(o.strong,{children:"Capacidade"}),": Aprende padr\xf5es muito complexos e n\xe3o-lineares."]}),(0,i.jsxs)(o.td,{children:["- ",(0,i.jsx)(o.strong,{children:"Baixa Interpretabilidade"}),' ("Caixa-Preta"), dificultando explica\xe7\xe3o de decis\xf5es (risco regulat\xf3rio e de neg\xf3cio). ',(0,i.jsx)(o.strong,{children:"Mais Lento"}),": Exige mais dados e poder computacional para treinar e predizer."]})]})]})]}),"\n",(0,i.jsx)(o.hr,{}),"\n",(0,i.jsx)(o.h2,{id:"3-fontes-de-dados-features",children:"3. Fontes de Dados (Features)"}),"\n",(0,i.jsx)(o.p,{children:"O AgroScore \xe9 alimentado por um conjunto diversificado de dados para criar um perfil de risco 360\xba do agricultor."}),"\n",(0,i.jsx)(o.p,{children:(0,i.jsx)(o.strong,{children:"Categorias de Features e Fontes de Dados"})}),"\n",(0,i.jsxs)(o.table,{children:[(0,i.jsx)(o.thead,{children:(0,i.jsxs)(o.tr,{children:[(0,i.jsx)(o.th,{children:"Categoria da Feature"}),(0,i.jsx)(o.th,{children:"Exemplos de Dados"}),(0,i.jsx)(o.th,{children:"Fonte"})]})}),(0,i.jsxs)(o.tbody,{children:[(0,i.jsxs)(o.tr,{children:[(0,i.jsx)(o.td,{children:(0,i.jsx)(o.strong,{children:"Dados Cadastrais"})}),(0,i.jsx)(o.td,{children:"Idade, regi\xe3o, estado civil."}),(0,i.jsxs)(o.td,{children:["Tabela ",(0,i.jsx)(o.code,{children:"usuarios"})," (PostgreSQL)."]})]}),(0,i.jsxs)(o.tr,{children:[(0,i.jsx)(o.td,{children:(0,i.jsx)(o.strong,{children:"Dados da Propriedade"})}),(0,i.jsx)(o.td,{children:"Hectares, cultura principal, posse da terra (pr\xf3pria/arrendada)."}),(0,i.jsxs)(o.td,{children:["Formul\xe1rio de Solicita\xe7\xe3o (",(0,i.jsx)(o.strong,{children:"RF-AGR-001"}),")."]})]}),(0,i.jsxs)(o.tr,{children:[(0,i.jsx)(o.td,{children:(0,i.jsx)(o.strong,{children:"Dados Hist\xf3ricos de Produ\xe7\xe3o"})}),(0,i.jsx)(o.td,{children:"Faturamento do \xfaltimo ciclo (baseado em Notas Fiscais)."}),(0,i.jsxs)(o.td,{children:["Upload de Documentos (",(0,i.jsx)(o.strong,{children:"RF-AGR-001"}),")."]})]}),(0,i.jsxs)(o.tr,{children:[(0,i.jsx)(o.td,{children:(0,i.jsx)(o.strong,{children:"Dados de Cr\xe9dito Externo"})}),(0,i.jsx)(o.td,{children:"Score de cr\xe9dito (Serasa/SPC), hist\xf3rico de d\xedvidas."}),(0,i.jsxs)(o.td,{children:["APIs de Bureaus de Cr\xe9dito (",(0,i.jsx)(o.strong,{children:"RNF-C-01"}),")."]})]}),(0,i.jsxs)(o.tr,{children:[(0,i.jsx)(o.td,{children:(0,i.jsx)(o.strong,{children:"Dados de Comportamento na Plataforma"})}),(0,i.jsx)(o.td,{children:"Hist\xf3rico de pagamento de empr\xe9stimos anteriores no Peerseed."}),(0,i.jsxs)(o.td,{children:["Tabelas ",(0,i.jsx)(o.code,{children:"cprs"})," e ",(0,i.jsx)(o.code,{children:"parcelas"})," (PostgreSQL)."]})]})]})]}),"\n",(0,i.jsx)(o.h2,{id:"4-ciclo-de-vida-do-modelo-mlops-no-mvp",children:"4. Ciclo de Vida do Modelo (MLOps) no MVP"}),"\n",(0,i.jsx)(o.p,{children:"Para o MVP, adotaremos um ciclo de vida semi-manual, focado na simplicidade e na valida\xe7\xe3o r\xe1pida, com um caminho claro para automa\xe7\xe3o futura."}),"\n",(0,i.jsx)(o.p,{children:(0,i.jsx)(o.strong,{children:"A. Coleta e Prepara\xe7\xe3o de Dados"})}),"\n",(0,i.jsx)(o.p,{children:"Os dados das fontes acima s\xe3o coletados em um processo em lote (batch). Um script extrai os dados do PostgreSQL e os combina com os dados de bureaus, gerando um dataset de treinamento consolidado."}),"\n",(0,i.jsx)(o.p,{children:(0,i.jsx)(o.strong,{children:"B. Treinamento e Avalia\xe7\xe3o do Modelo"})}),"\n",(0,i.jsx)(o.p,{children:"O treinamento \xe9 realizado em um ambiente de desenvolvimento, tipicamente um arquivo Python"}),"\n",(0,i.jsx)(o.p,{children:"Um dos devs do time de dados executa o arquivo python que realiza a limpeza dos dados, engenharia de features, treinamento do modelo de ML e sua avalia\xe7\xe3o rigorosa com m\xe9tricas estat\xedsticas (ex: AUC, Precis\xe3o, Recall). O resultado deste processo \xe9 um \xfanico arquivo de modelo treinado (ex: agro_score_model_v1.pkl)."}),"\n",(0,i.jsx)(o.p,{children:(0,i.jsx)(o.strong,{children:"C. Versionamento e Armazenamento do Artefato"})}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsx)(o.li,{children:"O arquivo do modelo (.pkl) e o arquivo python que o gerou s\xe3o versionados com Git. O artefato do modelo em si \xe9 armazenado em um servi\xe7o de Object Storage (compat\xedvel com S3), seguindo uma nomenclatura clara de versionamento (ex: s3://peerseed-models/agro_score_model_v1.pkl)."}),"\n"]}),"\n",(0,i.jsx)(o.p,{children:(0,i.jsx)(o.strong,{children:"D. Implanta\xe7\xe3o (Serving) do Modelo:"})}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsxs)(o.li,{children:["\n",(0,i.jsx)(o.p,{children:"O microsservi\xe7o Servi\xe7o de An\xe1lise de Cr\xe9dito \xe9 configurado (via vari\xe1vel de ambiente) com o caminho para o arquivo do modelo ativo no Object Storage."}),"\n"]}),"\n",(0,i.jsxs)(o.li,{children:["\n",(0,i.jsx)(o.p,{children:"Ao iniciar, o servi\xe7o FastAPI faz o download do arquivo do modelo e o carrega em mem\xf3ria."}),"\n"]}),"\n",(0,i.jsxs)(o.li,{children:["\n",(0,i.jsx)(o.p,{children:"Quando uma requisi\xe7\xe3o de an\xe1lise de cr\xe9dito chega \xe0 API, o servi\xe7o simplesmente chama a fun\xe7\xe3o model.predict() com os dados da requisi\xe7\xe3o."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(o.blockquote,{children:["\n",(0,i.jsx)(o.p,{children:"Justificativa: Este \xe9 o padr\xe3o de implanta\xe7\xe3o de menor lat\xeancia e menor complexidade para o MVP, garantindo que as an\xe1lises de cr\xe9dito sejam processadas em segundos, conforme o RF-AGR-002."}),"\n"]}),"\n",(0,i.jsx)(o.h2,{id:"5-monitoramento-e-retreinamento",children:"5. Monitoramento e Retreinamento"}),"\n",(0,i.jsx)(o.p,{children:"Um modelo de ML pode se degradar com o tempo (model drift). Nossa estrat\xe9gia de monitoramento no MVP ser\xe1 peri\xf3dica e semi-manual."}),"\n",(0,i.jsxs)(o.p,{children:[(0,i.jsx)(o.strong,{children:"Monitoramento de Performance:"})," A cada ciclo (ex: trimestralmente), analisaremos a performance real dos empr\xe9stimos concedidos. Compararemos a taxa de inadimpl\xeancia prevista pelo modelo com a taxa real. Se a acur\xe1cia do modelo cair abaixo de um limiar pr\xe9-definido, o processo de retreinamento \xe9 acionado."]}),"\n",(0,i.jsxs)(o.p,{children:[(0,i.jsx)(o.strong,{children:"Retreinamento:"})," O processo de retreinamento segue o mesmo ciclo descrito no passo 4, utilizando um dataset atualizado com os dados mais recentes de performance dos empr\xe9stimos. Um novo artefato de modelo (agro_score_model_v2.pkl) \xe9 gerado e, ap\xf3s valida\xe7\xe3o, a configura\xe7\xe3o do servi\xe7o em produ\xe7\xe3o \xe9 atualizada para usar a nova vers\xe3o."]}),"\n",(0,i.jsx)(o.h2,{id:"6-evolu\xe7\xe3o-futura-p\xf3s-mvp",children:"6. Evolu\xe7\xe3o Futura (P\xf3s-MVP)"}),"\n",(0,i.jsx)(o.p,{children:"Com a valida\xe7\xe3o do neg\xf3cio, o ciclo de MLOps evoluir\xe1 para uma pipeline mais automatizada:"}),"\n",(0,i.jsxs)(o.p,{children:[(0,i.jsx)(o.strong,{children:"Feature Store:"})," Centraliza\xe7\xe3o dos dados de features para garantir consist\xeancia entre treinamento \u0438 predi\xe7\xe3o."]}),"\n",(0,i.jsxs)(o.p,{children:[(0,i.jsx)(o.strong,{children:"Pipeline de Treinamento Automatizado:"})," Uso de ferramentas como MLflow ou Kubeflow para automatizar o treinamento, o versionamento e o registro de performance dos modelos."]}),"\n",(0,i.jsxs)(o.p,{children:[(0,i.jsx)(o.strong,{children:"Deploy Can\xe1rio / Testes A/B:"})," Implanta\xe7\xe3o de novas vers\xf5es do modelo para uma pequena porcentagem do tr\xe1fego, comparando sua performance com a vers\xe3o antiga antes de liber\xe1-la para todos os usu\xe1rios."]})]})}function m(e={}){const{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,i.jsx)(o,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,o,a)=>{a.d(o,{R:()=>d,x:()=>n});var r=a(6540);const i={},s=r.createContext(i);function d(e){const o=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function n(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),r.createElement(s.Provider,{value:o},e.children)}}}]);